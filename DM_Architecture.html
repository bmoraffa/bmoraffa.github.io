<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Architectural Design of Diffusion and Consistency Models</title>
  <style>
    body {
      font-family: Georgia, serif;
      line-height: 1.6;
      max-width: 900px;
      margin: 40px auto;
      padding: 0 20px;
      background-color: #fdfdfd;
      color: #333;
    }
    h1 {
      font-size: 1.8em;
      border-bottom: 2px solid #ccc;
      padding-bottom: 10px;
      margin-bottom: 0;
    }
    .meta-info {
      font-size: 0.95em;
      color: #666;
      margin-top: 5px;
      margin-bottom: 20px;
    }
    a {
      color: #1a0dab;
      text-decoration: none;
    }
    a:hover {
      text-decoration: underline;
    }
    strong {
      color: #2b2b2b;
    }
  </style>
</head>
<body>

  <h1>Architectural Design of Diffusion and Consistency Models</h1>
  <div class="meta-info">
    Author: Bahman Moraffah &nbsp;|&nbsp; Year: 2025 &nbsp;|&nbsp; Estimated Reading Time: 15 min
  </div>


  <p>In this blog, we explore the architectural design of diffusion models and consistency models in depth. We began with the fundamental <strong>U-Net architecture</strong> that underpins most diffusion models, explaining how its encoder–decoder structure with skip connections enables multi-scale denoising.</p>

  <p>We saw that the use of <strong>ResNet blocks</strong> and <strong>time-step embeddings</strong> allows these networks to be both deep and conditioned on the diffusion process, and we discussed how <strong>self-attention</strong> layers were integrated to model long-range interactions in images.</p>

  <p>Building on this, we examined how <strong>Transformers</strong> have entered the diffusion scene: from hybrid attention-augmented U-Nets to fully transformer-based diffusion backbones like DiT, which leverage the scalability of the Transformer architecture to achieve state-of-the-art results (<a href="https://wpeebles.com">wpeebles.com</a>).</p>

  <p>Moving to conditioning, we outlined the techniques by which diffusion models incorporate external information. Simple approaches (adding label embeddings or using FiLM conditioning) were related to analogous designs in GANs like BigGAN (<a href="https://medium.com">medium.com</a>), while more advanced methods (notably <strong>cross-attention for text-to-image</strong>) were shown to greatly enhance the expressiveness of the model (<a href="https://runwayml.com">runwayml.com</a>).</p>

  <p>We described <strong>ControlNet</strong> as a significant architectural extension enabling spatial conditioning by adding a parallel, trainable branch to a frozen diffusion model (<a href="https://ar5iv.labs.arxiv.org">ar5iv.labs.arxiv.org</a>). This allowed diffusion models to accept structured inputs (edges, poses, etc.) and was a prime example of how new capabilities can be introduced by clever architectural additions without retraining from scratch.</p>

  <p>In specialized domains, we saw that architectural variants like <strong>EGNN-based networks</strong> provide equivariance and are essential for tasks such as molecule generation (<a href="https://ar5iv.labs.arxiv.org">ar5iv.labs.arxiv.org</a>), highlighting that the choice of architecture must respect the symmetries or structure of the data for optimal results. We briefly noted that for other data types (audio, video), appropriately tailored architectures (1-D conv networks, 3-D conv or attention over time) are used, but they share common themes of residual learning and multi-scale processing.</p>

  <p>Finally, we delved into approaches that reduce the number of diffusion steps. While these are not new architectures per se, methods like <strong>progressive distillation</strong> (<a href="https://arxiv.org">arxiv.org</a>) and <strong>consistency models</strong> (<a href="https://proceedings.mlr.press">proceedings.mlr.press</a>) effectively modify how the network is used or trained to achieve fast sampling. We explained that one can view consistency models as pushing the architecture to its extreme — performing the entire generative transformation in one network pass — which blurs the line between diffusion models and traditional one-shot generative models.</p>

  <p>It’s remarkable that the very same architectural backbone (e.g. a U-Net) can one day be used in a 1000-step simulation and, after some retraining, also serve as a one-step direct generator, all depending on the objective and constraints applied (<a href="https://arxiv.org">arxiv.org</a>).</p>

  <p>Throughout the chapter, we have maintained a focus on <strong>architectural components and their roles</strong>: convolution vs. attention, residual connections, how conditioning information threads through the network, etc. By consolidating or removing components that are less central to current state-of-the-art (for instance, we treated some older architectures like basic autoencoders or non-residual nets only in passing), we highlighted the elements that repeatedly show up in cutting-edge models: U-Nets (or Transformers) with residual and attention mechanisms, conditioning interfaces (from simple embedding addition to sophisticated hyper-networks like ControlNet), and scalability through latent space modeling (VQ-VAEs enabling LDMs).</p>

  <p>The narrative arc of this chapter shows a clear progression: starting from a single network successfully denoising at multiple scales, then adding ways for the network to be guided (first by class labels, then by text, then by images/conditions), then optimizing the network’s usage to be more efficient. Each progression required new architectural ideas or refinements.</p>

  <p>In conclusion, diffusion model architecture has proven to be <strong>modular and extensible</strong>. One can plug in different backbones (CNN or Transformer), attach different “heads” or conditioning paths, or even chain multiple models (as in distillation) and the generative performance only grows. The fluency of the writing in this chapter hopefully made these technical concepts approachable, with code snippets and equations clarifying how these modules function within the overall diffusion framework.</p>

  <p>As diffusion models continue to evolve, we anticipate further architectural innovations — perhaps integrating diffusion with retrieval systems, more adaptive transformer structures, or neurosymbolic components — but the building blocks discussed here will likely remain highly relevant. Generative models are an interplay of <strong>architecture, training, and inference</strong>, and understanding the architecture provides a solid foundation to grasp the full picture of how diffusion and consistency models achieve the feats that were once the domain of GANs or other approaches. With this foundation, a reader is well-equipped to study more advanced topics like diffusion model solvers, score-based models in continuous time, or the latest hybrid architectures that push generative AI forward.</p>
</body>
</html>

